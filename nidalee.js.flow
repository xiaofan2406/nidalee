/* @flow */
/** ================ layouts ================ */
export type AsideProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `aside` attributes are supported

export type FooterProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `footer` attributes are supported

export type HeaderProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `header` attributes are supported

export type MainProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `main` attributes are supported

export type NavProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `nav` attributes are supported

export type NidaleeProps = {
  +children: React.Node,

  +className?: string,
}; // all other HTML `section` attributes are supported

export type SectionProps = {
  +appMain?: boolean,
  +children: React.Node,

  +className?: string,
}; // all other HTML `section` attributes are supported

/** ================ components ================ */
export type Size = 'small' | 'regular' | 'large';
export type ButtonProps = {
  +children: React$Node,

  +primary: boolean,
  +size: Size,
  +color: string,
  +showSpinner: boolean,

  +innerRef?: (ref: ?HTMLButtonElement) => void,
}; // all other HTML `button` attributes are supported
export type ButtonDefaultProps = {|
  +primary: boolean,
  +size: Size,
  +color: string,
  +showSpinner: boolean,
|};
export type DialogPosition = 'top' | 'middle' | 'bottom';
export type DialogProps = {
  +opener: string | React$Node,
  +children: React$Node,

  +showOverlay: boolean,
  +position: DialogPosition,

  +open?: boolean,
};
export type DialogDefaultProps = {|
  +showOverlay: boolean,
  +position: DialogPosition,
|};
export type DialogState = {|
  isVisible: boolean,
|};

export type EditableAction = 'save' | 'cancel';
export type EditableProps = {
  +value: string,
  +onSave: (content: string) => void,

  +placeholder: string,
  +className: string,
  +inline: boolean,
  +autoTrim: boolean,
  +blurAction: EditableAction,
  +escAction: EditableAction,

  +onKeyDown?: (event: KeyboardEvent) => void,
  +onBlur?: (event: FocusEvent) => void,
  +onDoubleClick?: (event: MouseEvent) => void,
};
export type EditableDefaultProps = {|
  +placeholder: string,
  +className: string,
  +inline: boolean,
  +autoTrim: boolean,
  +blurAction: EditableAction,
  +escAction: EditableAction,
|};
export type EditableState = {|
  isEditing: boolean,
|};

export type FAIconType = 'regular' | 'solid' | 'light' | 'brands';
export type IconProps = {
  +type: FAIconType,
  +name: string,
  +size: Size,

  +color?: string,
  +className?: string,
}; // all other HTML `i` attributes are supported
export type IconDefaultProps = {|
  +type: FAIconType,
  +name: string,
  +size: Size,
|};

export type PopoverTrigger = 'onClick' | 'onDoubleClick';
export type PopoverAlign = 'left' | 'right';
export type PopoverDirection = 'top' | 'bottom';
export type PopoverProps = {
  +opener: string | React$Node,
  +children: React$Node,

  +trigger: PopoverTrigger,
  +align: PopoverAlign,
  +direction: PopoverDirection,
  +zIndex: number,

  +open?: boolean,
  +className?: string,
};
export type PopoverDefaultProps = {|
  +trigger: PopoverTrigger,
  +align: PopoverAlign,
  +direction: PopoverDirection,
  +zIndex: number,
|};
export type PopoverState = {|
  isVisible: boolean,
|};

export type PortalProps = {
  +children: React$Node,

  +className?: string,
};

declare module 'nidalee' {
  declare export var Aside: React$StatelessFunctionalComponent<AsideProps>;
  declare export var Footer: React$StatelessFunctionalComponent<FooterProps>;
  declare export var Header: React$StatelessFunctionalComponent<HeaderProps>;
  declare export var Main: React$StatelessFunctionalComponent<MainProps>;
  declare export var Nav: React$StatelessFunctionalComponent<NavProps>;
  declare export var Nidalee: React$StatelessFunctionalComponent<NidaleeProps>;
  declare export var Section: React$StatelessFunctionalComponent<SectionProps>;

  declare export class Button extends React$Component<ButtonProps> {
    static defaultProps: ButtonDefaultProps;
  }

  declare export class Dialog extends React$Component<
    DialogProps,
    DialogState
  > {
    static defaultProps: DialogDefaultProps;
  }

  declare export class Editable extends React$Component<
    EditableProps,
    EditableState
  > {
    static defaultProps: EditableDefaultProps;
  }

  declare export class Icon extends React$Component<IconProps> {
    static defaultProps: IconDefaultProps;
  }

  declare export class InlineEdit extends React$Component<
    InlineEditProps,
    InlineEditState
  > {
    static defaultProps: InlineEditDefaultProps;
  }

  declare export class Popover extends React$Component<
    PopoverProps,
    PopoverState
  > {
    static defaultProps: PopoverDefaultProps;
  }

  declare export class Portal extends React$Component<PortalProps> {}
}
